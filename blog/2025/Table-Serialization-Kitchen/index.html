<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Table Serialization Kitchen - A Recipe for Better LLM Performance on Tabular Data | Daniel Gomm </title> <meta name="author" content="Daniel Gomm"> <meta name="description" content="This blog post explores table serializations and their impact on downstream tasks using the Table Serialization Kitchen."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.css" integrity="sha256-uRX+PiRTR4ysKFRCykT8HLuRCub26LgXJZym3Yeom1c=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://daniel-gomm.github.io/blog/2025/Table-Serialization-Kitchen/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Daniel</span> Gomm </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Table Serialization Kitchen - A Recipe for Better LLM Performance on Tabular Data</h1> <p class="post-meta"> Created in March 04, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/trl"> <i class="fa-solid fa-hashtag fa-sm"></i> trl</a>   <a href="/blog/tag/retrieval"> <i class="fa-solid fa-hashtag fa-sm"></i> retrieval</a>   <a href="/blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code</a>   <a href="/blog/tag/guide"> <i class="fa-solid fa-hashtag fa-sm"></i> guide</a>   ·   <a href="/blog/category/project"> <i class="fa-solid fa-tag fa-sm"></i> project</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <blockquote> <p>TL;DR: This blog post explores the importance of table serialization on the performance of Large Language Models. We introduce the <a href="https://github.com/daniel-gomm/table-serialization-kitchen" rel="external nofollow noopener" target="_blank">Table Serialization Kitchen</a>, an easy-to-use open-source tool for experimenting with serialization strategies. Initial experiments in table retrieval show large performance differences between different serializations. Metadata can provide highly relevant signal and improve performance significantly. Besides this, we find that there exist no single best serialization strategy but rather that the serialization strategy has to be tailored to the embedding model. Overall, our findings suggest that by optimizing table serialization, you can significantly enhance LLM performance on tabular data.</p> </blockquote> <p>Large Language Models (LLMs) have revolutionized how we interact with data, enabling tasks like question answering, text-to-SQL generation, and more. However, these models typically require text-based inputs, which poses a challenge when working with tabular data. To apply LLMs to tables, we need to convert the structured data into a textual format—a process known as <strong>table serialization</strong>. But how do we serialize tables effectively? And does the way we serialize them impact the performance of downstream tasks?</p> <p>In this blog post, we dive into the world of table serialization for dense retrieval tasks. We’ll share our journey of experimenting with different serialization strategies, highlighting key findings and providing practical insights. Along the way, we’ll introduce the <a href="https://github.com/daniel-gomm/table-serialization-kitchen" rel="external nofollow noopener" target="_blank"><strong>Table Serialization Kitchen</strong></a>, an open-source tool we developed to make experimentation easier. (This project was presented at the <a href="https://sites.google.com/view/rl-and-gm-for-sd" rel="external nofollow noopener" target="_blank">ELLIS workshop on Representation Learning and Generative Models for Structured Data 2025</a>. Find our extended abstract <a href="https://openreview.net/forum?id=rELWIvq2Qy" rel="external nofollow noopener" target="_blank">“Metadata Matters in Dense Table Retrieval” here</a>)</p> <h2 id="the-challenge-of-table-serialization">The Challenge of Table Serialization</h2> <p>Let’s start with an example. Consider the following table from the FeTaQA<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup> dataset:</p> <table> <thead> <tr> <th>Year</th> <th>Title</th> <th>Role</th> </tr> </thead> <tbody> <tr> <td>2012</td> <td>From the Rough</td> <td>Edward</td> </tr> <tr> <td>1997</td> <td>The Borrowers</td> <td>Peagreen Clock</td> </tr> <tr> <td>2013</td> <td>In Secret</td> <td>Camille Raquin</td> </tr> <tr> <td>2004</td> <td>Harry Potter and the Prisoner of Azkaban</td> <td>Draco Malfoy</td> </tr> <tr> <td>2017</td> <td>Feed</td> <td>Matt Grey</td> </tr> </tbody> </table> <p>This table is also associated with metadata:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table_page_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom Felton"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"table_section_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Films"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To use this table with an LLM, we need to convert it into a textual format. One possible serialization might look like this:</p> <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Metadata:
table_page_title: Tom Felton
table_section_title: Films

Table:
| Year | Title          | Role           |
|------|----------------|----------------|
| 2012 | From the Rough | Edward         |
| 1997 | The Borrowers  | Peagreen Clock |
| 2013 | In Secret      | Camille Raquin |
</code></pre></div></div> <p>This representation includes both the table’s content and its metadata, formatted in Markdown. But is this the best way to serialize the table? Should we include all the rows, or just a subset? How can select such a subset of rows? What about the metadata—is it helpful, or just noise? And how does the format (e.g., Markdown vs. JSON) affect the results?</p> <p>These questions highlight the complexity of table serialization. There are countless design choices to make, and it’s not immediately clear which ones lead to better performance. To answer these questions, we turned to experimentation.</p> <h2 id="setting-up-experiments-with-table-serialization-kitchen-and-target">Setting up experiments with Table Serialization Kitchen and TARGET</h2> <p>To systematically explore the design space of table serialization, we developed the <a href="https://github.com/daniel-gomm/table-serialization-kitchen" rel="external nofollow noopener" target="_blank"><strong>Table Serialization Kitchen</strong></a>—a Python package that makes it easy to define, test, and compare different serialization strategies. The package integrates with the <a href="https://target-benchmark.github.io/" rel="external nofollow noopener" target="_blank">TARGET benchmark</a><sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>, allowing us to evaluate serialization methods for table retrieval on real-world datasets like FeTaQA<sup id="fnref:4:1" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup>, OTTQA<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>, Spider<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">4</a></sup>, and BIRD<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">5</a></sup>.</p> <p>To follow along this blog post, install <a href="https://github.com/daniel-gomm/table-serialization-kitchen" rel="external nofollow noopener" target="_blank">Table Serialization Kitchen</a> with the TARGET integration:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>tableserializer[target]
</code></pre></div></div> <p>Since there are so many parameters to explore, and the number of experiments scales exponentially with the number of parameters varied, we fix the row sampling strategy to random selection and we do not perform any preprocessing of the data in the tables. Besides that we explore the following parameter configurations:</p> <ul> <li>Recipes (Serialization templates): We evaluate two serialization templates, one that only data from the raw table itself, and one that also leaves room for metadata.</li> <li>Raw table serialization: We compare serializing raw table contents as row-wise JSON and in markdown format.</li> <li>Row sampling: We investigate the impact of varying the number of rows sampled for the serialization in a range of 1-30 sampled rows.</li> </ul> <p>Table serialization kitchen makes creating configurations for all of these settings straight forward:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">tableserializer.kitchen</span> <span class="kn">import</span> <span class="n">ExperimentalSerializerKitchen</span>
<span class="kn">from</span> <span class="n">tableserializer.serializer.table</span> <span class="kn">import</span> <span class="n">MarkdownRawTableSerializer</span><span class="p">,</span> <span class="n">JSONRawTableSerializer</span>
<span class="kn">from</span> <span class="n">tableserializer.serializer.metadata</span> <span class="kn">import</span> <span class="n">PairwiseMetadataSerializer</span>
<span class="kn">from</span> <span class="n">tableserializer.table.row_sampler</span> <span class="kn">import</span> <span class="n">RandomRowSampler</span>
<span class="kn">from</span> <span class="n">tableserializer</span> <span class="kn">import</span> <span class="n">SerializationRecipe</span>


<span class="c1"># Define all the different configurations of components to use in the experiments
</span>
<span class="c1"># Recipes define the general structure of the output
</span><span class="n">recipes</span> <span class="o">=</span> <span class="p">[</span><span class="nc">SerializationRecipe</span><span class="p">(</span><span class="sh">"</span><span class="s">Metadata:</span><span class="se">\n</span><span class="s">{META}</span><span class="se">\n\n</span><span class="s">Table:</span><span class="se">\n</span><span class="s">{TABLE}</span><span class="sh">"</span><span class="p">),</span>
           <span class="nc">SerializationRecipe</span><span class="p">(</span><span class="sh">"</span><span class="s">Table:</span><span class="se">\n</span><span class="s">{TABLE}</span><span class="sh">"</span><span class="p">)]</span>

<span class="c1"># Metadata serializers define how metadata is parsed and serialized
</span><span class="n">metadata_serializers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">PairwiseMetadataSerializer</span><span class="p">()]</span>

<span class="c1"># Raw table serializers define how raw tables are serialized
</span><span class="n">raw_table_serializers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">MarkdownRawTableSerializer</span><span class="p">(),</span> <span class="nc">JSONRawTableSerializer</span><span class="p">()]</span>

<span class="c1"># Row samplers define how and how many rows are sampled for the raw table serialization
# Here we just use random row samplers, sampling 1-30 rows
</span><span class="n">row_samplers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="o">+</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">5</span><span class="p">)):</span>
    <span class="n">row_samplers</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">RandomRowSampler</span><span class="p">(</span><span class="n">rows_to_sample</span><span class="o">=</span><span class="n">i</span><span class="p">))</span>

<span class="c1"># The experimental serializer kitchen is used to manage table serializers for experimentation
</span><span class="n">kitchen</span> <span class="o">=</span> <span class="nc">ExperimentalSerializerKitchen</span><span class="p">()</span>

<span class="c1"># Create an array of serializers with different configurations (grid-search-style combination of all parameters)
</span><span class="n">serializers</span> <span class="o">=</span> <span class="n">kitchen</span><span class="p">.</span><span class="nf">create_serializers</span><span class="p">(</span><span class="n">recipes</span><span class="o">=</span><span class="n">recipes</span><span class="p">,</span>
                                         <span class="n">schema_serializers</span><span class="o">=</span><span class="p">[],</span>
                                         <span class="n">metadata_serializers</span><span class="o">=</span><span class="n">metadata_serializers</span><span class="p">,</span>
                                         <span class="n">table_serializers</span><span class="o">=</span><span class="n">raw_table_serializers</span><span class="p">,</span>
                                         <span class="n">row_samplers</span><span class="o">=</span><span class="n">row_samplers</span><span class="p">,</span>
                                         <span class="n">table_preprocessor_constellations</span><span class="o">=</span><span class="p">[[]])</span>

<span class="c1"># Save the serializers in a folder structure
</span><span class="n">kitchen</span><span class="p">.</span><span class="nf">save_serializer_experiment_configurations</span><span class="p">(</span><span class="n">serializers</span><span class="p">,</span> <span class="sh">"</span><span class="s">./retrieval_experiments</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p>This creates a folder structure that contains the configurations for all the different combinations of parameters. We can now run these experiments on a dataset (FeTaQA<sup id="fnref:4:2" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup> in this case) using the TARGET integration into table serializer kitchen:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">tableserializer.integrations.target</span> <span class="kn">import</span> <span class="n">TARGETOpenAIExperimentExecutor</span>
<span class="kn">from</span> <span class="n">tableserializer.kitchen</span> <span class="kn">import</span> <span class="n">ExperimentalSerializerKitchen</span>

<span class="c1"># Create experiment executor that can run a TARGET experiment
</span><span class="n">experiment_executor</span> <span class="o">=</span> <span class="nc">TARGETOpenAIExperimentExecutor</span><span class="p">(</span><span class="sh">"</span><span class="s">INSERT_API_KEY_HERE</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">fetaqa</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">test</span><span class="sh">"</span><span class="p">,</span>
                                                     <span class="n">embedding_cache_dir</span><span class="o">=</span><span class="sh">"</span><span class="s">./retrieval_experiments/.cache</span><span class="sh">"</span><span class="p">)</span>

<span class="n">kitchen</span> <span class="o">=</span> <span class="nc">ExperimentalSerializerKitchen</span><span class="p">()</span>

<span class="c1"># Run all experiments in the directory
</span><span class="n">kitchen</span><span class="p">.</span><span class="nf">run_experiments_with_serializers</span><span class="p">(</span><span class="n">base_folder</span><span class="o">=</span><span class="sh">"</span><span class="s">./retrieval_experiments</span><span class="sh">"</span><span class="p">,</span>
                                         <span class="n">experiment_callback</span><span class="o">=</span><span class="n">experiment_executor</span><span class="p">.</span><span class="n">run_experiment</span><span class="p">)</span>
</code></pre></div></div> <h2 id="how-to-serialize-tables-for-table-retrieval">How to serialize tables for table retrieval?</h2> <p>We use TARGET<sup id="fnref:2:1" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> to benchmark table retrieval with the different serializers. TARGET provide a unified interface to run table retrieval benchmarks on datasets from different tasks like TabularQA (e.g., FeTaQA<sup id="fnref:4:3" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup>, OTTQA<sup id="fnref:3:1" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>) or Text-to-SQL (Spider<sup id="fnref:5:1" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">4</a></sup>, BIRD<sup id="fnref:6:1" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">5</a></sup>). These experiments show large deviations in retrieval performance depending on how the serializations are constructed.</p> <h3 id="metadata-matters">Metadata Matters</h3> <p>One of the most striking results from our experiments is the significant impact of including contextual metadata in the table serialization. In the FeTaQA<sup id="fnref:4:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup> dataset, tables are associated with page and section titles as metadata. When this metadata is included in the serialized representation, retrieval performance improves substantially.</p> <p>For example, as shown in the plots below, including metadata increases the average recall@3 by <strong>0.42</strong>. This demonstrates that contextualizing tables with relevant metadata is crucial for effective retrieval. The metadata provides additional context that helps the embedding models better understand the relevance of the table to a given query.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blog/fetaqa_results-480.webp 480w,/assets/img/blog/fetaqa_results-800.webp 800w,/assets/img/blog/fetaqa_results-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/blog/fetaqa_results.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>Results of retrieval experiments on the FeTaQA<sup id="fnref:4:5" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">1</a></sup> dataset. The number of row samples included in the serialization is shown on the x-axis, the y-axis shows the retrieval performance measured by recall@3.</p> <h3 id="row-count-counts">Row count counts</h3> <p>The number of rows included in the serialization has a large impact on the retrieval performance. In settings where no metadata is included, embedding more rows generally improves retrieval performance, but with diminishing returns. Most models show little improvement when including more than 10 rows.</p> <p>Looking at the setting with metadata shows stark differences between embedding models. For some long-context embedding models like <em>gte-large-en-v1.5</em>, retrieval performance continues to improve as more rows are included. This suggests that these models are well equipped to handle larger inputs and can leverage the additional information provided by more rows. Less capable embedding models like <em>jina-embeddings-v2-base-en</em> show deteriorating retrieval performance with more rows, suggesting a loss of contextual information in the embeddings.</p> <p>This highlights the importance of carefully selecting the number of rows to include in the serialization, depending on the capabilities of the embedding model being used.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blog/ottqa_recall_vs_row_count_no-context_json-480.webp 480w,/assets/img/blog/ottqa_recall_vs_row_count_no-context_json-800.webp 800w,/assets/img/blog/ottqa_recall_vs_row_count_no-context_json-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/blog/ottqa_recall_vs_row_count_no-context_json.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>Experimental results on the OTTQA<sup id="fnref:3:2" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup> dataset.</p> <h3 id="not-all-embedding-models-are-created-equal">Not all embedding models are created equal</h3> <p>Our experiments also reveal that different embedding models exhibit varying sensitivities to the serialization parameters. For instance, stronger models like <em>gte-large-en-v1.5</em> perform well when combining a small sample of rows with meaningful metadata, while other models like <em>jina-embeddings-v2-base</em> struggle with this combination.</p> <p>This sensitivity to serialization parameters is highly model-dependent, and there is no single “best” parameter combination that generalizes across all models. Achieving the best performance requires thorough experimentation with each embedding model to identify the optimal serialization strategy.</p> <p>For example, the plots above show how different models respond to the inclusion of metadata and varying row counts. Some models benefit from adding rows alongside metadata, while others show performance degradation, suggesting a loss of contextual information in the embeddings.</p> <h3 id="conclusion">Conclusion</h3> <p>Our experiments demonstrate that the design of table serializations has a significant impact on retrieval performance. Including contextual metadata, carefully selecting the number of rows, and tailoring the serialization strategy to the specific embedding model are all critical factors in achieving optimal results. Additionally, context-length constraints need to be taken into consideration. While we take a first step in exploring table serialization through our experiments, further research in this area is needed.</p> <p>We encourage researchers and practitioners to experiment with different serialization methods using the <a href="https://github.com/daniel-gomm/table-serialization-kitchen" rel="external nofollow noopener" target="_blank">Table Serialization Kitchen</a> package to identify the best approach for their specific use case. By doing so, you can unlock the full potential of LLMs for tasks involving tabular data.</p> <p>Happy experimenting!</p> <hr> <p>If you find this project useful, please cite it as:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings{
    gomm2025metadata,
    title={Metadata Matters in Dense Table Retrieval},
    author={Daniel Gomm and Madelon Hulsebos},
    booktitle={ELLIS workshop on Representation Learning and Generative Models for Structured Data},
    year={2025},
    url={https://openreview.net/forum?id=rELWIvq2Qy},
    pdf={https://openreview.net/pdf?id=rELWIvq2Qy}
}
</code></pre></div></div> <p><strong>References:</strong></p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:4" role="doc-endnote"> <p>Nan, L., et al. “<a href="https://aclanthology.org/2022.tacl-1.3/" rel="external nofollow noopener" target="_blank">FeTaQA: Free-form Table Question Answering</a>” in <em>Transactions of the Association for Computational Linguistics</em>, vol. 10, pp. 35–49, 2022. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">↩</a> <a href="#fnref:4:1" class="reversefootnote" role="doc-backlink">↩<sup>2</sup></a> <a href="#fnref:4:2" class="reversefootnote" role="doc-backlink">↩<sup>3</sup></a> <a href="#fnref:4:3" class="reversefootnote" role="doc-backlink">↩<sup>4</sup></a> <a href="#fnref:4:4" class="reversefootnote" role="doc-backlink">↩<sup>5</sup></a> <a href="#fnref:4:5" class="reversefootnote" role="doc-backlink">↩<sup>6</sup></a></p> </li> <li id="fn:2" role="doc-endnote"> <p>X. Ji, A. Parameswaran, M. Hulsebos, “<a href="https://target-benchmark.github.io/" rel="external nofollow noopener" target="_blank">TARGET: Benchmarking Table Retrieval for Generative Tasks</a>,” in <em>NeurIPS 2024 Third Table Representation Learning Workshop</em>, 2024. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a> <a href="#fnref:2:1" class="reversefootnote" role="doc-backlink">↩<sup>2</sup></a></p> </li> <li id="fn:3" role="doc-endnote"> <p>W. Chen, et al, “<a href="https://openreview.net/forum?id=MmCRswl1UYl" rel="external nofollow noopener" target="_blank">Open Question Answering over Tables and Text</a>,” in <em>International Conference on Learning Representations</em>, 2021. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a> <a href="#fnref:3:1" class="reversefootnote" role="doc-backlink">↩<sup>2</sup></a> <a href="#fnref:3:2" class="reversefootnote" role="doc-backlink">↩<sup>3</sup></a></p> </li> <li id="fn:5" role="doc-endnote"> <p>Yu, T., et al, “<a href="https://aclanthology.org/D18-1425/" rel="external nofollow noopener" target="_blank">Spider: A Large-Scale Human-Labeled Dataset for Complex and Cross-Domain Semantic Parsing and Text-to-SQL Task</a>,” in <em>Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing</em>, 2018, pp. 3911–3921. <a href="#fnref:5" class="reversefootnote" role="doc-backlink">↩</a> <a href="#fnref:5:1" class="reversefootnote" role="doc-backlink">↩<sup>2</sup></a></p> </li> <li id="fn:6" role="doc-endnote"> <p>Li, J., et al, “<a href="https://dl.acm.org/doi/abs/10.5555/3666122.3667957" rel="external nofollow noopener" target="_blank">Can LLM already serve as a database interface? a big bench for large-scale database grounded text-to-SQLs</a>,” in <em>Proceedings of the 37th International Conference on Neural Information Processing Systems</em>, 2023. <a href="#fnref:6" class="reversefootnote" role="doc-backlink">↩</a> <a href="#fnref:6:1" class="reversefootnote" role="doc-backlink">↩<sup>2</sup></a></p> </li> </ol> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/openbatch/">A Practical Guide to the OpenAI Batch API with Python and openbatch</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Daniel Gomm. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme and the <a href="https://www.nordtheme.com" target="_blank" rel="external nofollow noopener">Nord colortheme</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: September 29, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.js" integrity="sha256-4rppopQE9POKfukn2kEvhJ9Um25Cf6+IDVkARD0xh78=" crossorigin="anonymous"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"publications",description:"publications by categories in reversed chronological order.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"projects",description:"A growing collection of my projects. [Work In Progress]",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-repositories",title:"repositories",description:"Overview of repositories for interesting projects that I&#39;ve worked on.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"Feel free to explore my professional and academic journey.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-a-practical-guide-to-the-openai-batch-api-with-python-and-openbatch",title:"A Practical Guide to the OpenAI Batch API with Python and openbatch",description:"This post introduces `openbatch`, a Python library designed to make the powerful but often cumbersome OpenAI Batch API as convenient and easy to use as standard sequential calls.",section:"Posts",handler:()=>{window.location.href="/blog/2025/openbatch/"}},{id:"post-table-serialization-kitchen-a-recipe-for-better-llm-performance-on-tabular-data",title:"Table Serialization Kitchen - A Recipe for Better LLM Performance on Tabular Data...",description:"This blog post explores table serializations and their impact on downstream tasks using the Table Serialization Kitchen.",section:"Posts",handler:()=>{window.location.href="/blog/2025/Table-Serialization-Kitchen/"}},{id:"news-started-scientific-traineeship-at-the-joint-research-center-of-the-european-commission",title:"Started scientific traineeship at the Joint Research Center of the European Commission",description:"",section:"News",handler:()=>{window.location.href="/news/2024_04_01_joined_ecat/"}},{id:"news-joined-centrum-wiskunde-amp-informatica-as-phd-student",title:"Joined Centrum Wiskunde &amp; Informatica as PhD student",description:"",section:"News",handler:()=>{window.location.href="/news/2024_10_01_joined_cwi/"}},{id:"news-started-the-amsterdam-lunch-on-table-alot-reading-group",title:"Started the Amsterdam Lunch on Table (ALOT) reading group",description:"",section:"News",handler:()=>{window.location.href="/news/2025_04_01_established_reading_group/"}},{id:"projects-pytei",title:"PyTEI",description:"A lightweight python client package for Huggingface Text Embedding Inference",section:"Projects",handler:()=>{window.location.href="/projects/PyTEI/"}},{id:"projects-table-serializer-kitchen",title:"Table Serializer Kitchen",description:"A flexible, extensible, and easy-to-use package for serializing tabular data for the use with LLMs.",section:"Projects",handler:()=>{window.location.href="/projects/table-serializer-kitchen/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%64%61%6E%69%65%6C.%67%6F%6D%6D[%61%74]%63%77%69.%6E%6C","_blank")}},{id:"socials-orcid",title:"ORCID",section:"Socials",handler:()=>{window.open("https://orcid.org/0009-0007-5489-992X","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=JX0iKVMAAAAJ","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/daniel-gomm","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/daniel-gomm","_blank")}},{id:"socials-bluesky",title:"Bluesky",section:"Socials",handler:()=>{window.open("https://bsky.app/profile/https://bsky.app/profile/daniel-gomm.bsky.social# your bluesky URL","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>